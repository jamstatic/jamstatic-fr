{{- define "main" }}
  <article class="post" itemscope itemtype="https://schema.org/BlogPosting">
    <header class="p-4 mt-6 mb-8 bg-blue-100 dark:bg-gray-800 bg-opacity-50 rounded-lg">
      <h1
        class="mb-4 text-4xl font-bold font-display text-violet dark:text-blue-500 leading-tight"
        itemprop="name headline"
      >
        {{- .Title -}}
      </h1>

      <div class="mb-4 md:flex items-center space-x-1 text-base text-gray-400">

        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
          {{- if .Params.author }}
          {{- if isset (index .Site.Data.authors .Params.author) "github" }}
          <img class="inline w-8 h-8 rounded-full" src="https://github.com/{{ (index .Site.Data.authors .Params.author).github }}.png" width="32" height="32" />
          {{ end -}}
          <span itemprop="name">
            {{- if isset (index .Site.Data.authors .Params.author) "web" }}
            <a
              class="no-underline capitalize transition duration-200 text-violet hover:text-indigo-700 dark:text-blue-500 hover:underline dark:hover:text-blue-300"
              rel="author"
              href="{{ (index .Site.Data.authors .Params.author).web }}"
              >{{ (index .Site.Data.authors .Params.author).name }}
            </a>
            {{ else }}
            <a
              class="no-underline capitalize transition duration-200 text-violet hover:underline hover:text-indigo-700 dark:text-blue-500 dark:hover:text-blue-300"
              rel="author"
              href="https://github.com/{{ (index .Site.Data.authors .Params.author).github }}"
              >{{ (index .Site.Data.authors .Params.author).name }}</a
            >
            {{ end -}}
          </span>
          {{ end -}}
        </span>
        <span>&middot;</span>
        <span>
          <time
          class="capitalize"
          datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" | safeHTML }}"
          itemprop="datePublished"
          >
          {{- $mymonths := .Site.Data.mois }}
          {{- .Date.Day }} {{ index $mymonths (printf "%d" .Date.Month) }}
          {{ .Date.Year -}}
        </time></span>
        <span>&middot;</span>
        {{- partial "svg/reading-time.svg" . -}}
        <span>Lecture <span aria-label="Temps de lecture">{{ .ReadingTime }} min.</span>
      </div>
      <p class="text-gray-400">
        {{- if isset .Params "categories" }}
          {{ range $index, $category := .Params.categories }}
            {{ if $index }}, {{ end }}
            <a
              class="no-underline capitalize transition duration-200 text-violet dark:text-blue-500 hover:underline hover:text-violet-light dark:hover:text-blue-300"
              href="{{ "categories/" | relURL }}{{ . | urlize }}"
              >#{{ . }}</a
            >{{ end }}
        {{- end }}
      </p>
      {{- with .Params.Source }}
        {{- if and .url .title .author }}
          <p class="mt-4 text-base italic text-black-grape-400 dark:text-black-grape-200">
            Source :
            <a
              class="no-underline font-display font-semibold text-rose hover:underline"
              href="{{ .url }}"
              >{{ .title }}</a
            >
            de
            {{ .author }}
          </p>
        {{- end }}
      {{- end }}
    </header>
    <article class="mx-auto prose sm:prose-lg lg:prose-xl dark:prose-dark" itemscope itemtype="https://schema.org/BlogPosting">
    <div class="font-body" itemprop="articleBody">

      <!--<hr class="dark:border-gray-800">-->

      {{ if .Params.excerpt }}
      <div class="prose-xl">
        {{ .Params.Excerpt | markdownify }}
      </div>
      <hr class="dark:border-gray-800">
      {{ end }}

      {{- .Content -}}

      <footer>
        {{- partial "page-edit" . }}

        {{- partial "related" . }}
      </footer>
    </div>
  </article>
{{- end }}
